# client

The ADB client List access and track abdroid device

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### createClient

Creates a client instance with the provided options. Note that this will not automatically establish a connection, it will only be done when necessary.

#### Parameters

*   `options` **Options** An object compatible with \[Net.connect]\[net-connect]'s options:
    **port** The port where the ADB server is listening. Defaults to `5037`.
    **host** The host of the ADB server. Defaults to `'127.0.0.1'`.
    **bin** As the sole exception, this option provides the path to the `adb` binary, used for starting the server locally if initial connection fails. Defaults to `'adb'`. (optional, default `{}`)

Returns **Client** The client instance.

## adb.util

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### readAll

Takes a \[`Stream`]\[node-stream] and reads everything it outputs until the stream ends. Then it resolves with the collected output. Convenient with `client.shell()`.

#### Parameters

*   `stream` **Duplex** The \[`Stream`]\[node-stream] to read.

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)<[Buffer](https://nodejs.org/api/buffer.html)>** All the output as a \[`Buffer`]\[node-buffer]. Use `output.toString('utf-8')` to get a readable string from it.

### parsePublicKey

Parses an Android-formatted mincrypt public key (e.g. `~/.android/adbkey.pub`).

#### Parameters

*   `keyString` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The key String or \[`Buffer`]\[node-buffer] to parse. Not a filename.

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<ExtendedPublicKey>** The key as a [forge.pki](https://github.com/digitalbazaar/forge#rsa) public key. You may need [node-forge](https://github.com/digitalbazaar/forge) for complicated operations.

### delay

a delay promise

#### Parameters

*   `ms` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** time to wait im ms

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<void>** void

### waitforReadable

Promise waiter for a Duplex to be readable

#### Parameters

*   `duplex` **(Duplex | PromiseDuplex\<Duplex>)?** a vanilla Duplex of a PromiseDuplex
*   `timeout`  do not wait more than timeout (optional, default `0`)

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)<[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)>** is the true is duplex is readable

### waitforText

Wait for a spesific text in s Duplex

#### Parameters

*   `duplex` **PromiseDuplex\<Duplex>** 
*   `expected` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 
*   `timeout`   (optional, default `0`)

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<void>** 

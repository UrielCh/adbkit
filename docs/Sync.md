# Sync

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### AdbSyncStatErrorCode

error code from STA2

### IEmissions

enforce EventEmitter typing

### stat

Retrieves information about the given path.

#### Parameters

*   `path` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The path.

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<Stats>** An \[`fs.Stats`]\[node-fs-stats] instance. While the `stats.is*` methods are available, only the following properties are supported:*   **mode** The raw mode.
*   **size** The file size.
*   **mtime** The time of last modification as a `Date`.

### readdir

Retrieves a list of directory entries (e.g. files) in the given path, not including the `.` and `..` entries, just like \[`fs.readdir`]\[node-fs]. If given a non-directory path, no entries are returned.

#### Parameters

*   `path` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The path.

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)<[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)\<Entry>>** An `Array` of \[`fs.Stats`]\[node-fs-stats]-compatible instances. While the `stats.is*` methods are available, only the following properties are supported (in addition to the `name` field which contains the filename):*   **name** The filename.
*   **mode** The raw mode.
*   **size** The file size.
*   **mtime** The time of last modification as a `Date`.

### push

Attempts to identify `contents` and calls the appropriate `push*` method for it.

#### Parameters

*   `contents` **([string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String) | Readable)** When `String`, treated as a local file path and forwarded to `sync.pushFile()`. Otherwise, treated as a \[`Stream`]\[node-stream] and forwarded to `sync.pushStream()`.
*   `path` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The path to push to.
*   `mode` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)?** Optional. The mode of the file. Defaults to `0644`.

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<PushTransfer>** A `PushTransfer` instance. See below for details.

### pushFile

Pushes a local file to the given path. Note that the path must be writable by the ADB user (usually `shell`). When in doubt, use `'/data/local/tmp'` with an appropriate filename.

#### Parameters

*   `file` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The local file path.
*   `path` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** See `sync.push()` for details.
*   `mode`  See `sync.push()` for details. (optional, default `DEFAULT_CHMOD`)

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<PushTransfer>** See `sync.push()` for details.

### pushStream

Pushes a \[`Stream`]\[node-stream] to the given path. Note that the path must be writable by the ADB user (usually `shell`). When in doubt, use `'/data/local/tmp'` with an appropriate filename.

#### Parameters

*   `stream` **Readable** The readable stream.
*   `path` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** See `sync.push()` for details.
*   `mode`  See `sync.push()` for details. (optional, default `DEFAULT_CHMOD`)

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<PushTransfer>** See `sync.push()` for details.

### pull

Pulls a file from the device as a `PullTransfer` \[`Stream`]\[node-stream].

#### Parameters

*   `path` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The path to pull from.

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<PullTransfer>** A `PullTransfer` instance. See below for details.

### end

Closes the Sync connection, allowing Node to quit (assuming nothing else is keeping it alive, of course).

Returns **Sync** Returns: The sync instance.

### tempFile

A simple helper method for creating appropriate temporary filenames for pushing files. This is essentially the same as taking the basename of the file and appending it to `'/data/local/tmp/'`.

#### Parameters

*   `path` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The path of the file.

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** An appropriate temporary file path.

### temp

get a temp file path

#### Parameters

*   `path` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** filename

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** full path on android devices
